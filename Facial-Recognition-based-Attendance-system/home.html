<!DOCTYPE html>
<html>
  <head>
    <title>AttenTaker</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="./assets/css/main.css" />
    <link rel="stylesheet" href="./assets/css/home.css" />
  </head>
  <body>
    <div class="container cont-home">
      <div class="topbar">
        <div class="title">
          <h1 style="font-size: 35px; color: aliceblue">AttenTaker</h1>
        </div>

        <div class="admin-a">
          <a href="./home_admin.html"
            >Sign in as admin
          </a>
        </div>
      </div>
      <div class="home-body-cont">
        <div class="containerv illus" style="margin-left: 200px; width: 50%">
          <div class="img-illus">
            <img src="./assets/img/undraw_educator_re_ju47.svg" alt="">
          </div>
        </div>
        <div class="containerv form-cont" style=" width: 60%">
          <div class="main">
            <input type="checkbox" id="chk" aria-hidden="true" />

            <div class="signup">
              <form
                name="signupform"
                method="post"
                enctype="multipart/form-data"
                onsubmit="callAPI()"
              >
                <label for="chk" aria-hidden="true">Sign up</label>
                <input
                  type="text"
                  name="name"
                  placeholder="Name"
                  required=""
                  id="name"
                />
                <input
                  type="email"
                  name="email"
                  id="email"
                  placeholder="Email ID"
                  required=""
                />
                <input
                  type="number"
                  name="enroll_number"
                  id="enroll"
                  placeholder="Enrollment Number"
                  required=""
                />
                <!-- take input for batch and course also -->
                <input
                  type="text"
                  name="batch"
                  id="batch"
                  placeholder="Batch"
                  required=""
                />
                <input
                  type="text"
                  name="course"
                  id="course"
                  placeholder="Course"
                  required=""
                />
                <input
                  id="password"
                  type="password"
                  name="password"
                  placeholder="Password"
                  required=""
                />

                <div class="img-su">
                  <div class="su-info">Upload your Image:</div>
                  <input class="su-input" type="file" name="image" id="image" />
                </div>

                <button type="submit">Sign up</button>
              </form>
            </div>
            <script>
              function callAPI() {
                const formData = new FormData(document.forms["signupform"]);
                alert("User successfully registered!");
                fetch("http://localhost:5005/student-signup", {
                  method: "POST", // Change the method as per your API requirements
                  body: formData,
                })
                  .then((response) => response.json())
                  .then((data) => {
                    // Handle the API response here
                    // show success message to user
                    alert("User created successfully");
                    // Perform actions based on the response
                  })
                  .catch((error) => {
                    // Handle errors
                    console.error("Error:", error);
                  });
                  event.preventDefault();
              }
            </script>

            <div class="login">
              <label for="chk" aria-hidden="true">Login</label>
              <input
                id="emaillogin"
                type="email"
                name="email"
                placeholder="Email"
                required=""
              />
              <input
                id="pswdlogin"
                type="password"
                name="pswd"
                placeholder="Password"
                required=""
              />

              <button type="submit" onclick="validate()">Login</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      function validate() {
        var email = document.getElementById("emaillogin").value;
        var password = document.getElementById("pswdlogin").value;
        console.log(email);
        console.log(password);
        if (email == "sjha0090@gmail.com" && password == "12345") {
          window.location.href = "http://127.0.0.1:5502/attendence.html";
        } else {
          alert("Invalid Credentials");
        }
      }
    </script>
  </body>
</html>
